import{_ as n,o,c as i,a as s,b as a,e as r,d as e,r as h}from"./app.f72270cc.js";const c={},d=r('<h1 id="create-misskey-instance-with-kubernetes-truenas" tabindex="-1"><a class="header-anchor" href="#create-misskey-instance-with-kubernetes-truenas" aria-hidden="true">#</a> Create Misskey Instance with Kubernetes/TrueNAS</h1><p>This guide describes how to install and setup Misskey using Kubernetes and Helm charts.</p><div class="custom-container danger"><i class="fas fa-times"></i><p>Never change the domain name (hostname) of an instance once you start using it!</p></div><h2 id="truecharts-and-truenas-scale" tabindex="-1"><a class="header-anchor" href="#truecharts-and-truenas-scale" aria-hidden="true">#</a> TrueCharts and TrueNAS Scale</h2>',4),l=e("The Helm chart for Misskey is hosted on TrueCharts which is a repository designed to be used with TrueNAS Scale, but its charts can also be installed as normal Helm charts. The "),u={href:"https://truecharts.org/docs/charts/incubator/misskey",target:"_blank",rel:"noopener noreferrer"},_=e("TrueCharts"),m=e(" site has a list of all the charts available as well as documentation on how to install. The TrueCharts "),p={href:"https://discord.gg/Ax9ZgzKx9t",target:"_blank",rel:"noopener noreferrer"},f=e("Discord"),b=e(" server is also a resource that can be used if you have questions. Misskey is currently on the "),g=s("em",null,"incubator",-1),y=e(" train."),k=r('<div class="custom-container tip"><i class="fas fa-info"></i><p class="custom-container-title">Requirements</p><ul><li>TrueNAS Scale OR</li><li>Kubernetes cluster and Helm</li></ul></div><h2 id="truenas-scale" tabindex="-1"><a class="header-anchor" href="#truenas-scale" aria-hidden="true">#</a> TrueNAS Scale</h2>',2),T=e("Follow the instructions on the "),v={href:"https://truecharts.org/docs/manual/guides/Adding-TrueCharts",target:"_blank",rel:"noopener noreferrer"},x=e("TrueCharts Guide"),S=e(". Add the "),w=s("em",null,"incubator",-1),N=e(" train, and install the Misskey app. The only Misskey configuration option that is required is the instance URL. The app also uses the Traefik reverse proxy to expose the service to the outside world over HTTPS. TrueCharts integrates with Traefik by default, but other options can be used with manual configuration."),A=r(`<h2 id="manual-helm" tabindex="-1"><a class="header-anchor" href="#manual-helm" aria-hidden="true">#</a> Manual Helm</h2><p>If you are not using TrueNAS Scale, you can install Misskey using Helm directly. The <code>misskey</code> object in the values.yaml file has the options that you will want to override as necessary. The <code>misskey.url</code> property is the only required change. A reverse proxy is recommended to secure access to the server as the chart does not currently support enabling TLS inside the Misskey container.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>helm repo add TrueCharts https://charts.truecharts.org
helm repo update
helm install misskey TrueCharts/misskey
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="upgrade-misskey" tabindex="-1"><a class="header-anchor" href="#upgrade-misskey" aria-hidden="true">#</a> Upgrade Misskey</h2>`,4),C=e("To upgrade Misskey, use the upgrade feature built into TrueNAS Scale or if running kubernetes manually use "),M={href:"https://helm.sh/docs/helm/helm_repo_update/",target:"_blank",rel:"noopener noreferrer"},H=e("helm repo update"),I=e(" and "),q={href:"https://helm.sh/docs/helm/helm_upgrade/",target:"_blank",rel:"noopener noreferrer"},K=e("helm upgrade"),L=e(". It is highly recommended to create a snapshot of your data before upgrading in case there is an issue and you need to rollback.");function V(B,E){const t=h("ExternalLinkIcon");return o(),i("div",null,[d,s("p",null,[l,s("a",u,[_,a(t)]),m,s("a",p,[f,a(t)]),b,g,y]),k,s("p",null,[T,s("a",v,[x,a(t)]),S,w,N]),A,s("p",null,[C,s("a",M,[H,a(t)]),I,s("a",q,[K,a(t)]),L])])}var U=n(c,[["render",V],["__file","kubernetes.html.vue"]]);export{U as default};
